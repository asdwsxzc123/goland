### 项目说明:
1. 用户登录
2. 选购商品
3. 加购物车
4. 检查库存
5. 提交订单
6. 货到付款/订单付款

* 用户模块 => 完成用户注册和登录验证
* 商品模块 => 前后台商品管理和流量
* 订单模块 => 订单及购物车的生成和管理
* 仓配模块 => 仓库库存和物流的管理

### 数据库设计规范
1. 数据结构设计  
 逻辑设计 + 物理设计
2. 物理设计:  
  表名 字段名 字段类型
3. 数据库命名规范
  * 所有数据库对象名称必须使用小写并用下划线分割
  * 禁止使用MYSQL保留字段 select id,username, from
  * 命名需要见名识义,最好不超过32个字符
  * 例如: mc_userdb 用户数据库,user_account 用户账号表
  * 临时表: tmp为前缀,以日期为后缀
  * 备份表: 以bak为前缀,以日期为后缀

4. 数据库基本设计规范
 * 所有存储相同数据的列名和列类型必须一致
 * 所有的表必须使用innodb存储引擎,5.7以后支持事务,行级锁,更好的恢复性,高并发下性能更好
 * 使用字符集UTF8,汉字占3字节,ASCII码占用1个字节 
 * 所有的表和字段都需要添加注释
 * 单表数据量的大小,在500万以内,方便备份查询,限制取决于存储设置和文件系统,可以通过历史数据归档,分库分表控制数据量
 * 谨慎使用MYSQL分区表: 跨分区查询效率可能更低
 * 冷热数据分离,减小表的宽度,利用缓存,避免读入无用的冷数据
 * 经常使用的字段,放在一张表中
 * 禁止预留字段,修改预留字段,会对表进行锁定
 * 禁止存储图片和文件等二进制数据
 * 禁止在线上做数据库压力测试
 * 禁止从开发环境直联线上数据库
5. 数据库索引设计规范
  * 限制每张表上的索引数量,单表索引不超过5个
  * 每个Innodb表必须有一个主键,不要使用更新频繁的列做主键,不要用UUID,MD5,HASH,字符串作为主键,建议使用自增ID
  * 常见索引列建议: select,update,delte语句中where从句中的列,包含在order by, group by, distinct中的自动,多表join的关联列
  * 选择索引列的顺序: 区分度最高的列放在联合索引的最左侧,尽量吧字段长度小的列放在联合索引的最左侧,使用最频繁的列放在联合索引的左侧
  * 避免建立恿余索引和重复索引
  * 频繁查询的优先考虑使用覆盖索引,避免进行索引的二次查询,可以吧随机io变成顺序io,加快查询效率
  * 避免使用外键索引

6. 数据库字段设计规范
  * 现在符合存储需要的最小的数据结构,将字符串转化为数字类型,INET_ATON(),INET_NTOA(),对于非负数据采用无符号整型进行存储 UNSIGNED INT,VARCHAR(N)n代表的是字符数,而不是字节,过大的长度会消耗更多的内存
  * 避免使用TEXT,BLOB数据类型,ENUM数据类型(order by操作效率差) 
  * 所有的列定义为NOT NULL,索引NULL 列需要额外的空间来保存
  * 使用TIMESTAMP或DATETIME类型存储时间,占用的字节笔时间少
  * decimal 精准数据类型
7. 数据库SQL开发规范 
  * 建议使用预编译语句进行数据库操作,解决sql注入
  * 避免数据类型的隐式转换
  * 合理利用存在的索引,避免使用双%%查询,使用left join
  * 考虑数据库拓展
  * 程序连接不同的数据库使用不同的账户,禁止跨库查询,为数据库迁移和分库分表流出余地,降低业务耦合度,避免权限过大而产生的安全风险 
  * 禁止使用select *,必须使用select <字段列表> 查询,消耗更多的cpu和io,网络带宽,无法使用覆盖索引,可减少表结构变更带来的影响
  * 禁止使用不含字段列表的insert语句,建议使用insert into t(a,b,c) values(1,2,3)
  * 避免使用子查询,可以吧子查询优化为join查询,无法使用索引,子查询会产生临时表操作,消耗过多io
  * 避免使用join关联太多的表,会产生临时表操作,影响查询效率,最多关联61个表,建议不超过5个
  * 减少同数据库的交互次数,更适合批量操作,合并多个相同的操作在一起,提高数据处理
  * 使用in代替or,in可以有效利用索引
  * 禁止使用 order by rand() 进行随机排序,影响性能,推荐在程序中获取一个随机值,然后在数据库中获取数据
  * where从句中禁止对列进行函数转化和计算
  * 在明星不会有重复值的时候使用union all 而不是union
  * 拆分复杂的大SQL为多个小SQL,一个SQL只能使用一个cpu计算
8. 数据库操作行为规范
  * 超过100万行的批量写操作,要分批多次进行操作,避免产生大事务操作,binlog日志,产生大量的日志
  * 对应达标使用pt-online-schema-change修改表结构,
  * 禁止为程序使用的账号赋予super权限
  * 程序连接数据库账号,遵循权限最小原则,不准有drop权限

### 用户模块设计
1. 用户实体
  * 用户名称
  * 登录名
  * 邮箱
  * 密码
  * 证件类型
  * 手机号
  * 证件号码
  * 性别
  * 地区
  * 积分
  * 注册时间
  * 生日
  * 用户状态
  * 用户级别
  * 用户积分上线
  * 用户积分下线 => 用户级别 => 用户
  * 用户余额
2. 三范式
  * 拆分用户级别,用户积分上线,用户积分下线
3. 冷热分离
  * 用户登录表: 登录名,密码,用户状态
  * 用户地址表: 省市区邮编,地址
  * 用户信息表: 用户姓名,证件类型,证件号码,手机号,邮箱,性别,积分,注册时间,生日,会员级别,用户余额